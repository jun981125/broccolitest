<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>1:1 상품문의</title>
    <link th:href="@{/css/commu.css}" rel="stylesheet"/>
    <base th:href="@{/}"/>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css"
          href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css"/>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
</head>

<body>
<th:block th:replace="~{common/header :: headerFragment}"></th:block>
<div class="container">
    <div class="top">
        <h1>문의 게시판</h1>
        <div class="title-search-container">
            <div class="search-form">
                <form action="/qsearch" method="get" style="display: flex;">
                    <select name="searchName">
                        <option value="customernickname" selected>작성자</option>
                        <option value="title">글제목</option>
                    </select>
                    <div class="textbox" style="flex: 1; margin-right: 10px;">
                        <label for="searchValue"></label>
                        <input type="hidden" name="page" th:value="${page}">
                        <input type="text" name="searchValue" id="searchValue" placeholder="검색어 입력" class="inputtext">
                    </div>
                    <input type="submit" class="material-symbols-outlined" value="search">
                </form>
            </div>
        </div>
    </div>


    <div class="main_list">
        <div class="new_tab_wrap">
            <ul class="style02">
                <li>번호<span class="tab_line"></span></li>
                <li class="basis-200">제목<span class="tab_line"></span></li>
                <li>작성자<span class="tab_line"></span></li>
                <li>작성일<span class="tab_line"></span></li>
                <li>조회수<span class="tab_line"></span></li>
            </ul>
        </div>


        <a th:each="b:${data}" class="card card-content"
           th:href="@{/qdetail(num=${b.num},page=${page})}">
            <span>[[${b.num}]]</span>
            <!-- 답글 들여쓰기 준비 -->
            <th:block th:each="count : ${#numbers.sequence(0, b.nested)}">  <!-- 0부터 nested 만큼 반복 -->
                <th:with var="tab" th:utext="${'&nbsp;'}"></th:with>
                [[${tab}]]
            </th:block>

            <label class="label ttitle">
				<span class="basis-200">[[${b.title}]]
						</span>
                    <span>[[${b.name}]]</span>
                    <span>[[${b.bdate}]]</span>
                    <span>[[${b.readcnt}]]</span>
                </label>
        </a>

        <p class="btn_wrap"><a class="button" th:href="@{/qlist}">최근목록</a></p>
        <p class="btn_wrap"><a class="button" th:href="@{/qinsert}">글쓰기</a></p>
        <p class="btn_wrap"><a class="button"
                               th:href="@{/qsearch(searchName='name', page=${page}, searchValue=${nickname})}">내 문의 글
            보기</a></p>
        <!-- paging -->
        <div class="pagination">
                <span th:block th:each="num : ${#numbers.sequence(1, pagesu)}">
                    <span th:if="${num} == ${page}"><label th:for="${num}"><b th:text="${num}"></b></label></span>
                    <span th:if="${num} != ${page}"><a th:href="@{anmt(page=${num})}" th:text="${num}"></a></span>
                </span>
        </div>
    </div>

</div>
<th:block th:replace="~{common/footer :: footerFragment}"></th:block>
</body>
</html>